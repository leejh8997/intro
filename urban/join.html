<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        label>span {
            display: inline-block;
            width: 120px;
        }
    </style>
</head>

<body>
    <div>
        <label> <span>아이디</span>:
            <input id="userId">
        </label>
    </div>
    <div>
        <label><span>비밀번호</span>:
            <input type="password" id="pwd1">
        </label>
    </div>
    <div>
        <label><span>비밀번호 확인</span>:
            <input type="password" id="pwd2">
        </label>
    </div>
    <div>
        <label><span>핸드폰번호</span>:
            <input type="text" id="poneNum" placeholder="'-' 없이">
        </label>
    </div>
    <div>
        <label><span>성별</span></label>:
        <label><input type="radio" name="gender" value="m"> 남자</label>
        <label><input type="radio" name="gender" value="f"> 여자</label>
    </div>
    <div>
        <label><span>관심언어</span></label>:
        <label><input type="checkbox" name="subject" value="java">자바</label>
        <label><input type="checkbox" name="subject" value="oracle">오라클</label>
        <label><input type="checkbox" name="subject" value="html">html</label>
        <label><input type="checkbox" name="subject" value="python">python</label>
    </div>
    <div>
        <button onclick="fnJoin()">회원가입!</button>
    </div>
</body>

</html>
<script>
    function fnJoin() {
        // 아이디는 최소 6글자 이상
        let userId = document.querySelector("#userId").value;
        if (userId.length < 6) {
            alert("아이디는 6글자 이상이여야 합니다.");
            return;
        }
        
        let patternID = /^[a-z0-9]+$/;
        if (!patternID.test(userId)) {
            alert("아이디는 숫자와 소문자만 입력가능");
            return;
        }

        let pwd1 = document.querySelector("#pwd1").value;
        let pwd2 = document.querySelector("#pwd2").value;
        if (pwd1 != pwd2) {
            alert("비밀번호가 다릅니다");
            return;
        }
        if (pwd1.length < 8) {
            alert("비밀번호는 8글자 이상이여야 합니다.");
            return;
        }
        let patternPwd = /[`~!@#$%^&*|\\\'\";:\/?]/gi;
        if (!patternPwd.test(pwd1)) {
            alert("비밀번호에 1개 이상의 특수문자를 조합해주세요");
            return;
        }

        let poneNum = document.querySelector("#poneNum").value;
        let patternPoneNum = /^[0-9]+$/;
        if (!patternPoneNum.test(parseInt(poneNum))) {
            alert("숫자만 입력가능");
            return;
        }
        if(!(poneNum.length==11)){
            alert("11자리를 입력해주세요 ex)01012345678");
            return;
        }

        let list = document.getElementsByName("gender");
        if (!list[0].checked && !list[1].checked) {
            alert("성별선택하세요.");
            return;
        }

        let subject = document.querySelectorAll("input[name='subject']:checked");
        if (subject.length == 0 && !confirm("관심언어를 선택하지 않았습니다. 그대로 진행하시겠습니까?")) {
           return;           
        }

        alert("회원가입을 축하합니다.");
        location.href = "script_popup.html"

    }
</script>
